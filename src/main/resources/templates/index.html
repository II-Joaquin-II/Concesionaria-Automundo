<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Automundo</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
     <link rel="stylesheet" href="../css/styles.css" />
</head>

<body>

    <!-- Navbar con Bootstrap -->
    </head>

    <body>
        <header class="p-3 text-bg-dark header">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-12 col-md-4 mb-3 mb-md-0 text-md-start">
                        <ul class="nav justify-content-center fs-5">
                            <li class="nav-item">
                                <a href="" class="nav-link fw-bold text-white px-3">NOSOTROS</a>
                            </li>
                            <li class="nav-item">
                                <a th:href="@{/index}" class="nav-link fw-bold text-white px-3">AUTOS</a>
                            </li>
                        </ul>
                    </div>
                    <div class="col-12 col-md-4 text-center mb-3 mb-md-0">
                        <a th:href="@{/principal}">
                            <img src="img/LOGOV.4.png" class="img-fluid" alt="Logo">
                        </a>
                    </div>
                    <div class="col-12 col-md-4 text-center text-md-end">
                        <div>
                            <a th:href="@{/login}" class="btn btn-outline-light btn-sm me-2">Iniciar sesión</a>
                            <a th:href="@{/registro}" class="btn btn-warning btn-sm me-2">Registrarse</a>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Contenido principal -->
        <main class="container my-5">
    <h2 class="text-center mb-4">Nuestros Autos</h2>
    <div id="autos-container" class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
      <!-- Aquí se cargarán las tarjetas -->
    </div>
    </main>
        
        <script>
            
         document.addEventListener('DOMContentLoaded', () => {
  const container = document.getElementById('autos-container');

  fetch('/api/autos')
    .then(response => response.json())
    .then(autos => {
      container.innerHTML = '';

      autos.forEach(auto => {
        const card = document.createElement('div');
        card.classList.add('col');
        card.innerHTML = `
          <div class="card h-100">
            <img src="${auto.imagen ? auto.imagen : 'img/default-car.jpg'}" class="card-img-top car-image" alt="${auto.modelo}">
            <div class="card-body">
              <h5 class="card-title text-danger">${auto.marca} ${auto.modelo}</h5>
              <p class="card-text"><strong>Precio:</strong> $${auto.precio}</p>
              <ul class="list-unstyled mb-3">
                <li>Año: ${auto.ano}</li>
                <li>Color: ${auto.color}</li>
                <li>Transmisión: ${auto.transmision}</li>
                <li>Estado: ${auto.estado}</li> 
              </ul>
              <div class="d-flex gap-2 mb-3">
                <button class="btn btn-primary">ALQUILAR</button>
                <button class="btn btn-success">COMPRAR</button>
              </div>
            </div>
          </div>
        `;
        container.appendChild(card);
      });
    })
    .catch(err => {
      container.innerHTML = '<p class="text-danger">Error al cargar los autos.</p>';
      console.error(err);
    });
});
            
        </script>
        <!-- Bootstrap JS -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>    <script src="../js/script.js"></script>
    </body>

</html>